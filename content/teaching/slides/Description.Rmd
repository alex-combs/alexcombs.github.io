---
title: "PADP 7120 Data Applications in PA"
subtitle: "Data Description"
author: "Alex Combs"
institute: "UGA | SPIA | PADP"
date: "Last updated: `r format(Sys.time(), '%B %d, %Y')`"
output:
  xaringan::moon_reader:
    css: 'mypres.css'
    nature:
      beforeInit: "macros.js"
      highlightStyle: github
      countIncrementalSlides: false
---
# Outline

- Distinguish between descriptive and inferential statistics

- Identify population, sample, parameter, and statistic

- Distributions and their description

- Describing categorical variables with frequency tables

- Deceptive descriptions

```{r, include=FALSE}
library(tidyverse)
library(knitr)
ncbirths <- read_csv("https://docs.google.com/spreadsheets/d/e/2PACX-1vTm2WZwNBoQdZhMgot7urbtu8eG7tzAq-60ZJsQ_nupykCAcW0OXebVpHksPWyR4x8xJTVQ8KAulAFS/pub?gid=202410847&single=true&output=csv")
library(fivethirtyeight)
```

---
# Two types of statistics

.center[
![](lectures_files/stats_types.png)
]

---
# Descriptive vs. inferential

- Suppose we survey 100 alumni 2 years after completing their MPA to examine employment and earnings outcomes.

.pull-left[
**Descriptive**

- What is the average income of respondents?
- What percentage of respondents are employed?
- What percentage earn more than they did prior to starting MPA?

]

--

.pull-right[
**Inferential**

- What is the average income for MPA grads 2 years after graduation?
- Does getting an MPA increase the likelihood of being employed?
- Does getting an MPA increase income?
]

---
# Population v sample; Parameter v statistic

Suppose we are told the average salary of college-educated women in Georgia is greater than the national average for all college-educated women, suggesting a college degree provides a better return on investment for women in Georgia than women in other states. Suppose we set out to investigate average salary in Georgia for ourselves. 

We take a sample of 100 college-educated women in Georgia and record the income of each.

--

- What is the unit of analysis in our dataset?
- What are the variables in our dataset?
- What is the population and sample for this study?
- What is the parameter and statistic/estimate for this study?

---
# Population v sample; Parameter v statistic

Suppose we send a survey to all SPIA MPA alumni who graduated two years ago, asking about employment and earnings. Miraculously, we achieve a 100% response rate to the survey.

We calculate the average income of all SPIA MPA alumni who graduated two years ago.

--

- Is this value for average income a parameter or a statistic?

---
# Population v sample; Parameter v statistic

Suppose we want to estimate the percentage of Athens residents who have a valid ID for the next election. We set up booths around UGA campus and ask people if they have a valid ID according to Georgia's election laws. We get 80 responses, and 80% said they have a valid ID.

--

- How might these 80 responses not represent a sample of the population?

---
class: inverse, middle, center

# Data description describes distributions.

---
# Describing numerical variables

- Center
  - Mean, median, mode
- Spread
  - Variance, standard deviation, IQR, range
- Association
  - Covariance, correlation, regression coefficient, coefficient of determination
  
---
# Affected measures

A city has a private high school and a public high school. Each year, all students take a state standardized test. Student scores can range between 0-100.

--

One year, the highest scoring student in the public school transfers to the private school.

--

What effect does this transfer have on the measures of center and spread for the public school's distribution of test scores?

---
# Affected measures

A city has a private high school and a public high school. Each year, all students take a state standardized test. Student scores can range between 0-100.

--

After hiring better teachers, the public school is able to raise the test scores of each of its students by 5 points.

--

What effect does this transfer have on the measures of center and spread for the public school's distribution of test scores?

---
# Affected measures

A city has a private high school and a public high school. Each year, all students take a state standardized test. Student scores can range between 0-100.

--

After hiring better teachers, the public school is able to raise the test scores of each of its students by 5 percent.

--

What effect does this transfer have on the measures of center and spread for the public school's distribution of test scores?

---
# Shapes of distributions

Summary statistics of test scores were the following:

- Private school
  - Mean: 80
  - Median: 80
  - Standard deviation: 5
  
- Public school
  - Mean: 70
  - Median: 80
  - Standard deviation: 12

--

- What do these numbers tell us about the shape of each school's distribution of test scores?

---
# Choosing measures

.pull-left[
```{r, echo=FALSE}
ggplot(ncbirths, aes(x = weeks)) +
  geom_histogram(fill = 'steelblue', color = 'white', binwidth = 1) +
  labs(title = 'Weeks of pregnancy in North Carolina') +
  theme_light() +
  theme(axis.text=element_text(size=16))
```
]

.pull-right[
```{r, echo=FALSE, message=FALSE, fig.align='center'}
library(gapminder)
gapminder %>% 
  filter(year==2007) %>% 
  ggplot(aes(x = gdpPercap)) +
  geom_histogram(fill = 'steelblue', color = 'white') +
  labs(title = 'GDP Per Capita') +
  theme_light() +
  theme(axis.text=element_text(size=16))
```
]

- Which measures of center and spread should we use or not use for the above distributions?

---
# Choosing measures

.pull-left[
```{r}
mean(ncbirths$weeks)
median(ncbirths$weeks)
sd(ncbirths$weeks)
IQR(ncbirths$weeks)
```
]

.pull-right[
```{r}
mean(gapminder$gdpPercap)
median(gapminder$gdpPercap)
sd(gapminder$gdpPercap)
IQR(gapminder$gdpPercap)
```
]

---
# Consider unit of analysis

- **Politician A:** The economy is awful! Thirty states had falling incomes last year.

- **Politician B:** Our economy is showing promising gains. Seventy percent of Americans had rising incomes last year.

- Which politician is lying?

---
# Consider unit of analysis

- Average class size
- What is the unit of analysis?

--

- Class size for average student
- What is the unit of analysis?

--

- Can this make a difference?

---
# Consider unit of analysis

- Suppose PADP has only 5 classes with no student in more than 1 class. 4 classes have 5 students, and 1 class has 100 students

- Average class size
```{r}
(100 + 5 + 5 + 5 + 5)/5
```

--
  
- Class size experienced by average student

```{r}
(100*100+20*5)/120
```

---
# Center is only partial story

- An expensive new drug increases the median life expectancy among patients of a terminal illness by only one week. Insurance company decides not to cover this ineffective drug.

--

- Average test scores stay the same despite increase in spending.

---
# Correlation

```{r q1-5, include=FALSE}
state_trump <- hate_crimes %>%
  mutate(share_white = 1 - share_non_white,
         urbanization = if_else(share_pop_metro<=0.75, "low", "high")) %>% 
  select(state, 
         median_house_inc, 
         share_pop_hs, 
         share_white, 
         share_white_poverty, 
         share_vote_trump,
         urbanization) %>%
  filter(state != "District of Columbia") %>% 
  mutate_at(vars(share_pop_hs, share_white, share_white_poverty,
              share_vote_trump), funs(.*100))
```

.pull-left[
```{r q8.1, message=FALSE, echo=FALSE, fig.align='center'}
ggplot(data = state_trump, 
       aes(y = share_vote_trump, x = share_white)) + 
  geom_point(color = 'springgreen4', size = 2) + 
  labs(x = "Percent of state population white", 
       y = "Percent of population voted for Trump", 
       title = "White density and Trump support in the US") +
  theme_minimal()
```
]

.pull-right[
```{r q8.2, message=FALSE, echo=FALSE, fig.align='center'}
ggplot(data = state_trump, 
       aes(y = share_vote_trump, x = share_white_poverty)) + 
  geom_point(color = 'springgreen4', size = 2) + 
  labs(x = "Percent of white population in poverty", 
       y = "Percent of population voted for Trump", 
       title = "White poverty and Trump support in the US") +
  theme_minimal()
```
]

- Units with higher values along the x-axis tend to have higher/lower values along the Y axis.

---
# Correlation

.pull-left[
```{r, message=FALSE, echo=FALSE, fig.align='center'}
ggplot(data = state_trump, 
       aes(y = share_vote_trump, x = median_house_inc)) + 
  geom_point(color = 'springgreen4', size = 2) + 
  labs(x = "Median household income", 
       y = "Percent of population voted for Trump", 
       title = "Income and Trump support in the US") +
  theme_minimal()
```
]

.pull-right[

Guess the correlation coefficient.

]

--

```{r, echo=FALSE}
cor(state_trump$median_house_inc, state_trump$share_vote_trump)
```

---
# Correlation

- Correlation is not causation. What does this mean?

--

- Crime is strongly correlated with ice cream sales.

--

- Many such examples [here](https://www.tylervigen.com/spurious-correlations)

---
# Recap

- Difference between descriptive and inferential statistics; sample and population

--

- When presented with descriptive statistics, consider what they say and don't say about the underlying distribution.

--

- When presented with changes in descriptive statistics, consider the different ways the distribution could have changed.

--

- Correlation is a building block of how we explain or predict phenomena in our world using statistics.

